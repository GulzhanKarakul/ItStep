(()=>{"use strict";const t={INCREMENT:"INCREMENT",DECREMENT:"DECREMENT",CLEAR:"CLEAR"};const e={count:0};const n=function(t){let e=t(),n=[];return{getState:function(){return e},dispatch:function(c){e=t(e,c),n.forEach((t=>{t()}))},subscribe:function(t){n.push(t)}}}((function(n=e,c){if(!c)return n;switch(c.type){case t.INCREMENT:return{count:n.count+1};case t.DECREMENT:return{count:n.count-1};case t.CLEAR:return{count:0};default:return n}})),c={dispatch(t){n.dispatch(t)}};const o=document.getElementById("incr"),r=document.getElementById("decr"),u=document.getElementById("clear");o.addEventListener("click",(()=>{c.dispatch({type:t.INCREMENT})})),r.addEventListener("click",(()=>{c.dispatch({type:t.DECREMENT})})),u.addEventListener("click",(()=>{c.dispatch({type:t.CLEAR})}));new class{constructor(t){this.store=t,this.store.subscribe(this.render),this.render()}render=()=>{const t=document.querySelector(".count");let e=this.store.getState();console.log(e),t.textContent=e.count.toString()}}(n);let d=document.getElementById("list"),s=document.getElementById("add-item-btn");document.querySelectorAll(".sub-panel");s.addEventListener("click",(()=>{c.dispatch({type:t.ADD})})),s.addEventListener("click",(function(t){let e=document.getElementById("new-item-text").value;if(console.log(e),!e)return;let n=document.querySelector("li").cloneNode(!0);n.querySelector(".item").textContent=e,d.append(n),document.getElementById("new-item-text").value=""}))})();